\# 【开源】放弃向量数据库：我用极简 SQLite 时间轴，手搓了一个「永不失忆」且带时间感的 AI 记忆引擎



TGMA = Temporal-Grounded Memory Architecture  

\*\*时间锚定记忆架构 | 轻量 | 时序正确 | 零幻觉 | 近乎无限记忆\*\*



---



\## 🚀 为什么做这个项目？

目前主流 AI Agent 记忆几乎全是向量数据库，但在\*\*虚拟伴侣、桌面宠物、个人私教、长期陪伴 AI\*\*场景里，纯向量检索是灾难：



\- \*\*时序错乱\*\*：向量只管语义，不管时间，AI 把半年前的事当成昨天  

\- \*\*幻觉拼贴\*\*：碎片乱拼，A 事件细节缝到 B 事件上  

\- \*\*统计无能\*\*：无法回答「这周我抱怨了几次」「昨天聊了什么」  

\- \*\*成本高\*\*：向量库部署、维护、检索都更重  



于是我放弃向量库，只用 \*\*SQLite + 时间轴\*\*，手搓了这套真正像人类一样记忆的引擎。



---



\## 🧠 核心三大模块（你能看懂、能魔改）



\### 模块一：动态时间标签注入（人类级时间感）

\- 不浪费 Token 写死日期  

\- 今天只显示 `\[HH:MM]`，往日显示 `\[MM-DD HH:MM]`  

\- AI 能感知节奏、间隔、时差，会吐槽、会共情、会记得你多久没理她



\### 模块二：无情史官·降维压缩（防上下文爆炸）

\- 达到 N 条自动触发后台小模型总结  

\- 强制保留\*\*日期+时段\*\*时间锚点  

\- 把废话变记忆，节省巨量 Token



\### 模块三：主动打捞·侦探模型（Agentic RAG）

\- 主模型不懂 → 主动抛出 `\[RECALL|日期|问题]`  

\- 侦探模型只读当天原始日志，\*\*开卷考试，绝不幻觉\*\*  

\- 支持：精准回忆、计数、统计、复盘



---



\## 🔁 完美时间闭环

系统时间注入 → 对话打时间标签 → 史官压缩归档 → 按时间精准打捞 → 回到当下对话  

\*\*每一段记忆都有时间、可追溯、不会乱、永不丢。\*\*



\## ⚡ 亮点

\- ✅ 只用 SQLite，无需向量库  

\- ✅ 近乎无限记忆（单文件存百万条无压力）  

\- ✅ 时序绝对正确，不穿越、不乱序  

\- ✅ 零幻觉：查不到就说不知道  

\- ✅ 超轻量，适合桌面宠物、虚拟伴侣、个人 AI  

\- ✅ 可本地 7B 模型跑完全程



---



\## 快速运行

```bash

pip install -r requirements.txt

python tgma_memory_engine.py


